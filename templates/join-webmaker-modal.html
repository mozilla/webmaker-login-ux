<div class="modal-header">
  <button ng-click="close()" ng-hide="" type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
  <h3 class="modal-title" ng-hide="currentState === MODALSTATE.welcome">
    <a href="#" ng-click="close()" class="modal-title-left">{{ 'Cancel' | i18n }}</a>
    <span class="modal-title-center">{{ 'webmakerAuthCreateWelcome' | i18n }}</span>
    <button
      ng-show="currentState === MODALSTATE.inputEmail"
      href="#" ng-click="submitEmail()" ng-disabled="!user.email || form.user.$error.accountExists || form.user.$error.invalidEmail" tabindex="3" class="btn-link modal-title-right">{{ 'Next' | i18n }}</button>
    <button
      ng-show="currentState === MODALSTATE.inputUsername"
      ng-disabled="!user.username || form.user.$error.invalidUsername || form.user.$error.usernameTaken || sendingRequest" ng-click="submitUser()" class="btn-link create-user modal-title-right" tabindex="5">{{ 'Sign up' | i18n }}</button>
  </h3>
  <h3 class="modal-title" ng-show="currentState === MODALSTATE.welcome">
    <a href="#" ng-click="close()" class="modal-title-left">{{ 'Cancel' | i18n }}</a>
    <span>{{ 'webmakerAuthWelcome' | i18n }}</span>
    <a href="#" ng-click="close()" class="modal-title-right">{{ 'Done' | i18n }}</a>
  </h3>
</div>
<div class="modal-body">
  <form class="form" name="form.user" novalidate>
    <div ng-show="currentState === MODALSTATE.inputEmail">
      <div class="form-group">
        <label for="webmaker-login-email">{{ 'Email' | i18n }}</label>
        <input id="webmaker-login-email" ng-model="user.email" ng-keyup="validateEmail();" type="text" class="form-control" name="email" autocomplete="off" autofocus tabindex="1" required focus-on="create-user-email">
      </div>
      <div class="alert alert-danger" ng-show="form.user.$error.agreeToTerms" ng-bind-html="'webmakerAuthAgreeError' | i18n"></div>
      <div class="alert alert-warning" ng-show="form.user.$error.accountExists" bind-trusted-html="'WebmakerAccountExists' | i18n"></div>
      <div class="alert alert-danger" ng-show="form.user.$error.invalidEmail" ng-bind-html="'NotAnEmail' | i18n"></div>
      <div class="terms-checkbox checkbox">
        <input id="agree-to-terms" ng-model="user.agree" type="checkbox" ng-disabled="form.user.$error.accountExists" ng-change="agreeToTermsChanged();" name="agree" tabindex="2">
        <label for="agree-to-terms">
          <div><span></span></div>
          <span ng-bind-html="'webmakerAuthAgreeToTerms' | i18n"></span>
        </label>
      </div>
      <div class="mailing-list-checkbox checkbox">
        <input id="subscribe-to-list" ng-model="user.subscribeToList" type="checkbox" ng-disabled="form.user.$error.accountExists" name="subscribeToList" tabindex="3">
        <label for="subscribe-to-list">
          <div><span></span></div>
          <span ng-bind-html="'webmakerAuthMailingList' | i18n"></span>
        </label>
      </div>
      <div class="cta-links clearfix">
        <button ng-click="submitEmail()" ng-disabled="!user.email || form.user.$error.accountExists || form.user.$error.invalidEmail" class="create-user btn btn-primary hidden-xs-login" type="button" tabindex="3">{{ 'Sign up' | i18n }}</button>
      </div>
    </div>

    <div ng-show="currentState === MODALSTATE.inputUsername">
      <div class="form-group">
        <label for="pre-username">{{ 'webmakerAuthChooseUsername' | i18n }}</label>
        <input ng-model="user.username" name="username" ng-change="validateUsername()" class="form-control username" autocomplete="off" required autofocus tabindex="4" focus-on="create-user-username" maxlength="20" minlength="1">
        <div class="visible-xs help-block text-center"><strong class="username-with-url">{{user.username}}</strong></div>
      </div>
      <div class="alert alert-danger" ng-show="form.user.$error.invalidUsername" ng-bind-html="'webmakerAuthUsernameInvalid' | i18n"></div>
      <div class="alert alert-danger" ng-show="form.user.$error.serverError" ng-bind-html="'webmakerAuthServerError' | i18n"></div>
      <div class="alert alert-danger" ng-show="form.user.$error.usernameTaken" ng-bind-html="'webmakerAuthTakenError' | i18n"></div>
      <div ng-show="skippedEmail" class="mailing-list-checkbox checkbox">
        <input id="subscribe-to-list" ng-model="user.subscribeToList" type="checkbox" ng-disabled="form.user.$error.accountExists" name="subscribeToList" tabindex="2">
        <label for="subscribe-to-list">
          <div><span></span></div>
          <span ng-bind-html="'webmakerAuthMailingList' | i18n"></span>
        </label>
      </div>
      <button ng-disabled="!user.username || form.user.$error.invalidUsername || form.user.$error.usernameTaken || sendingRequest" ng-click="submitUser()" class="create-user btn btn-primary hidden-xs-login" type="button" tabindex="5">{{ 'webmakerAuthCreateAccount' | i18n }}</button>
    </div>

    <div ng-show="currentState === MODALSTATE.welcome" class="welcome">
      <p class="subheadline">{{ 'aboutWebmaker' | i18n }}</p>

        <!-- Goggles -->
        <div class="tool-desc" ng-show="welcomeModalIdx === 0">
          <div class="icon">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
            <svg width="276px" height="210px" viewBox="0 0 276 210" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
              <title>Goggles</title>
              <desc>XRay Goggles.</desc>
              <defs></defs>
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
                <g id="Artboard-27" sketch:type="MSArtboardGroup" transform="translate(-8.000000, -25.000000)">
                  <g id="goggles" sketch:type="MSLayerGroup" transform="translate(8.000000, 25.000000)">
                    <path d="M256.460878,100.757257 C254.300432,98.595 248.740338,93.6349115 244.461405,91.3416372 L87.2010811,2.31836283 C82.0372703,-0.216504425 74.6962297,-1.41238938 69.0606081,4.21300885 C63.4091351,9.83747788 64.2679054,16.7711947 66.8740541,21.7935398 L156.207608,178.545531 C158.362459,181.89531 163.757514,188.816947 165.933811,190.960619 C190.938851,215.872566 231.455838,215.88 256.460878,190.960619 C281.469649,166.057965 281.469649,125.658982 256.460878,100.757257" id="Fill-1" fill="#ECA5C0" sketch:type="MSShapeGroup"></path>
                    <path d="M206.411635,4.22137168 C200.776946,-1.41238938 193.033095,-0.216504425 188.474432,2.21336283 L32.3423514,90.5518142 C27.5645676,93.5884513 21.1746081,98.595 19.0113649,100.757257 C-5.99367568,125.658982 -5.99367568,166.057965 19.0113649,190.960619 C44.015473,215.872566 84.5389865,215.872566 109.525378,190.960619 C111.700743,188.816947 116.493446,182.464912 118.293041,180.08708 L208.316595,22.2302655 C211.235108,17.7031858 212.050986,9.83747788 206.411635,4.22137168" id="Fill-2" fill="#59B3D7" sketch:type="MSShapeGroup"></path>
                    <path d="M137.699757,146.04292 L187.347122,58.9867699 L137.736122,30.9025221 L88.0896892,58.9923451 L137.699757,146.04292" id="Fill-3" fill="#4E72A7" sketch:type="MSShapeGroup"></path>
                    <path d="M19.0113649,190.960619 C-5.99367568,166.057965 -5.99367568,125.658982 19.0113649,100.757257 C44.015473,75.8360177 84.5389865,75.8360177 109.525378,100.757257 C134.526689,125.658982 134.526689,166.057965 109.525378,190.960619 C84.5389865,215.872566 44.015473,215.872566 19.0113649,190.960619" id="Fill-4" fill="#369ECD" sketch:type="MSShapeGroup"></path>
                    <path d="M256.526149,190.960619 C231.520176,215.88 191.001324,215.872566 165.995351,190.960619 C140.994041,166.057965 140.994041,125.667345 165.995351,100.747965 C191.001324,75.8360177 231.520176,75.8360177 256.526149,100.757257 C281.532122,125.658982 281.532122,166.057965 256.526149,190.960619" id="Fill-5" fill="#E36D9E" sketch:type="MSShapeGroup"></path>
                    <path d="M235.671365,172.371903 C222.429892,185.550796 200.976486,185.550796 187.746203,172.371903 C174.501,159.16885 174.501,137.799027 187.746203,124.595044 C200.976486,111.409646 222.429892,111.409646 235.671365,124.612699 C248.903514,137.799027 248.903514,159.16885 235.671365,172.371903" id="Fill-6" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
                    <path d="M211.686405,130.685973 C197.874284,130.685973 186.669243,142.526814 186.669243,147.321504 C186.669243,148.542478 187.402135,149.697478 188.704743,150.735398 C189.952338,148.202389 191.521622,145.792035 193.651297,143.673451 C195.952541,141.379248 198.579203,139.622124 201.369041,138.337035 C195.774446,143.999602 195.790297,153.095575 201.451095,158.720973 C207.112824,164.37146 216.304743,164.37146 221.987919,158.720973 C227.658041,153.061195 227.658041,143.897389 221.987919,138.246903 C221.513311,137.773938 220.980892,137.392035 220.455,137.00177 C224.543716,138.231106 228.400257,140.452832 231.635797,143.673451 C233.390635,145.410133 234.738,147.370752 235.893284,149.405708 C236.381878,148.741327 236.7045,148.044425 236.7045,147.321504 C236.7045,142.526814 225.511581,130.685973 211.686405,130.685973 L211.686405,130.685973 Z M220.613514,144.661195 C220.613514,146.779779 218.886649,148.491372 216.75977,148.491372 C214.626365,148.491372 212.908824,146.779779 212.908824,144.661195 C212.908824,142.542611 214.626365,140.822655 216.75977,140.822655 C218.886649,140.822655 220.613514,142.542611 220.613514,144.661195 L220.613514,144.661195 Z" id="Fill-7" fill="#E36D9E" sketch:type="MSShapeGroup"></path>
                    <path d="M86.2761081,172.371903 C73.0467568,185.550796 51.5765676,185.550796 38.3490811,172.371903 C25.1048108,159.16885 25.1048108,137.799027 38.3490811,124.595044 C51.5765676,111.409646 73.0467568,111.409646 86.2761081,124.612699 C99.5073243,137.799027 99.5073243,159.16885 86.2761081,172.371903" id="Fill-8" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>
                    <path d="M62.3051351,130.685973 C48.479027,130.685973 37.2861081,142.526814 37.2861081,147.321504 C37.2861081,148.542478 38.0031486,149.697478 39.2871081,150.735398 C40.5552162,148.202389 42.1384865,145.792035 44.2373919,143.673451 C46.5367703,141.38854 49.1615676,139.630487 51.9476757,138.347257 C46.3754595,144.014469 46.3978378,153.095575 52.0334595,158.720973 C57.7026486,164.37146 66.9085541,164.37146 72.5768108,158.720973 C78.2599865,153.061195 78.2599865,143.897389 72.5768108,138.246903 C72.0938108,137.765575 71.553,137.383673 71.0233784,136.984115 C75.134473,138.214381 79.0087297,140.440752 82.254527,143.673451 C83.9897838,145.410133 85.3362162,147.370752 86.5138784,149.405708 C86.981027,148.741327 87.3111081,148.044425 87.3111081,147.321504 C87.3111081,142.526814 76.1107297,130.685973 62.3051351,130.685973 L62.3051351,130.685973 Z M71.2163919,144.661195 C71.2163919,146.779779 69.4913919,148.491372 67.3645135,148.491372 C65.2478919,148.491372 63.5089054,146.779779 63.5089054,144.661195 C63.5089054,142.542611 65.2478919,140.822655 67.3645135,140.822655 C69.4913919,140.822655 71.2163919,142.542611 71.2163919,144.661195 L71.2163919,144.661195 Z" id="Fill-9" fill="#369ECD" sketch:type="MSShapeGroup"></path>
                  </g>
                </g>
              </g>
            </svg>
          </div>
          <h4>{{ 'XRay-Goggles' | i18n }}</h4>
          <p>{{ 'AboutGoggles' | i18n }}</p>
          <div class="clearfix">
            <a class="create-user btn btn-primary" type="button" href="https://webmaker.org/goggles" autofocus>{{'TryGoggles' | i18n }}</a>
            <a href="https://webmaker.org/explore" class="explore-link">{{ 'ExploreWebmaker' | i18n }}</a>
          </div>
        </div>

        <!-- simplified CTA -->
        <div class="tool-desc" ng-show="simpleCTA">
          <div class="clearfix">
            <button class="create-user btn btn-primary" type="button" href="#" ng-click="close()">{{ 'Lets Go!' | i18n }}</button>
            <a href="https://webmaker.org/explore" class="explore-link">{{ 'ExploreWebmaker' | i18n }}</a>
          </div>
        </div>
    </div>
  </form>
</div>
